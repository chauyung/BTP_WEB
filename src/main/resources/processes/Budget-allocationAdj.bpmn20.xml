<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:flowable="http://flowable.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://www.flowable.org/processdef" exporter="Flowable Open Source Modeler" exporterVersion="6.8.1">
  <process id="Budget-allocationAdj" name="Budget-allocationAdj" isExecutable="true">
    <documentation>權責分攤</documentation>
    <startEvent id="startEvent" name="Start" flowable:formFieldValidation="true"></startEvent>
    <userTask id="initiatorTask" name="Initiator Task" flowable:assignee="${initiator}" flowable:formFieldValidation="true">
      <extensionElements>
        <modeler:initiator-can-complete xmlns:modeler="http://flowable.org/modeler"><![CDATA[false]]></modeler:initiator-can-complete>
      </extensionElements>
    </userTask>
    <userTask id="approvalTask" name="Approval Task" flowable:assignee="${currentApprover}" flowable:formFieldValidation="true">
      <extensionElements>
        <modeler:initiator-can-complete xmlns:modeler="http://flowable.org/modeler"><![CDATA[false]]></modeler:initiator-can-complete>
      </extensionElements>
    </userTask>
    <exclusiveGateway id="decisionGateway" name="Decision"></exclusiveGateway>
    <exclusiveGateway id="submitCheckGateway"></exclusiveGateway>
    <endEvent id="sid-4597E1BB-15EB-4D99-8C97-8805483442CD"></endEvent>
    <sequenceFlow id="startToInitiator" sourceRef="startEvent" targetRef="initiatorTask"></sequenceFlow>
    <sequenceFlow id="toReturnInitiator" sourceRef="decisionGateway" targetRef="initiatorTask">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${decision == 'returnToInitiator'}]]></conditionExpression>
    </sequenceFlow>
    <endEvent id="endEvent" name="End"></endEvent>
    <sequenceFlow id="sid-04E144F0-E080-45BB-A354-05D20EEEA904" sourceRef="submitCheckGateway" targetRef="sid-4597E1BB-15EB-4D99-8C97-8805483442CD">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${decision == 'invalid'}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="initiatorToSubmitCheck" sourceRef="initiatorTask" targetRef="submitCheckGateway"></sequenceFlow>
    <sequenceFlow id="checkToApproval" sourceRef="submitCheckGateway" targetRef="approvalTask">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${decision == 'submit' && approvers.size() != 0}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="toDecision" sourceRef="approvalTask" targetRef="decisionGateway"></sequenceFlow>
    <sequenceFlow id="toApprovalLoop" sourceRef="decisionGateway" targetRef="approvalTask">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${decision == 'approve' && currentIndex <= approvers.size()}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="toBackPrevious" sourceRef="decisionGateway" targetRef="approvalTask">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${decision == 'backToPrevious' && currentIndex != 0}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="sid-443FDE5E-A5A0-4CB3-A560-22A7BC38B99C" sourceRef="decisionGateway" targetRef="initiatorTask">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${decision == 'backToPrevious' && currentIndex == 0}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="sid-K9P3O592-L4MH-5N23-J967-2K3L4M5N6O7P" sourceRef="decisionGateway" targetRef="endEvent">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${decision == 'approve'}]]></conditionExpression>
    </sequenceFlow>
  </process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_Budget-allocationAdj">
    <bpmndi:BPMNPlane bpmnElement="Budget-allocationAdj" id="BPMNPlane_Budget-allocationAdj">
      <bpmndi:BPMNShape bpmnElement="startEvent" id="BPMNShape_startEvent">
        <omgdc:Bounds height="30.0" width="30.0" x="97.57289884669808" y="251.43756401767178"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="initiatorTask" id="BPMNShape_initiatorTask">
        <omgdc:Bounds height="60.0" width="100.0" x="177.57289884669808" y="236.43756401767178"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="approvalTask" id="BPMNShape_approvalTask">
        <omgdc:Bounds height="60.0" width="100.0" x="427.20250785862663" y="236.43756401767178"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="decisionGateway" id="BPMNShape_decisionGateway">
        <omgdc:Bounds height="40.0" width="40.0" x="567.572887372804" y="246.43756401767178"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="submitCheckGateway" id="BPMNShape_submitCheckGateway">
        <omgdc:Bounds height="40.0" width="40.0" x="334.6099102955741" y="246.43756401767178"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-4597E1BB-15EB-4D99-8C97-8805483442CD" id="BPMNShape_sid-4597E1BB-15EB-4D99-8C97-8805483442CD">
        <omgdc:Bounds height="28.0" width="28.0" x="340.60990220369195" y="147.21669276016587"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="endEvent" id="BPMNShape_endEvent">
        <omgdc:Bounds height="28.0" width="28.0" x="705.0" y="252.43756401767178"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge bpmnElement="checkToApproval" id="BPMNEdge_checkToApproval" flowable:sourceDockerX="20.0" flowable:sourceDockerY="20.0" flowable:targetDockerX="50.0" flowable:targetDockerY="30.0">
        <omgdi:waypoint x="374.55178022054105" y="266.4375640176718"></omgdi:waypoint>
        <omgdi:waypoint x="427.20250785858155" y="266.4375640176718"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="toDecision" id="BPMNEdge_toDecision" flowable:sourceDockerX="50.0" flowable:sourceDockerY="30.0" flowable:targetDockerX="20.0" flowable:targetDockerY="20.0">
        <omgdi:waypoint x="527.1525078586267" y="266.4375640176718"></omgdi:waypoint>
        <omgdi:waypoint x="567.572887372804" y="266.4375640176718"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="startToInitiator" id="BPMNEdge_startToInitiator" flowable:sourceDockerX="15.0" flowable:sourceDockerY="15.0" flowable:targetDockerX="50.0" flowable:targetDockerY="30.0">
        <omgdi:waypoint x="127.52289746505349" y="266.4375640176718"></omgdi:waypoint>
        <omgdi:waypoint x="177.5728988466375" y="266.4375640176718"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="toApprovalLoop" id="BPMNEdge_toApprovalLoop" flowable:sourceDockerX="20.0" flowable:sourceDockerY="20.0" flowable:targetDockerX="50.0" flowable:targetDockerY="30.0">
        <omgdi:waypoint x="587.4118176409792" y="286.22689696017653"></omgdi:waypoint>
        <omgdi:waypoint x="587.0" y="337.0"></omgdi:waypoint>
        <omgdi:waypoint x="477.0" y="337.0"></omgdi:waypoint>
        <omgdi:waypoint x="477.1164105509838" y="296.38756401767176"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="toReturnInitiator" id="BPMNEdge_toReturnInitiator" flowable:sourceDockerX="20.0" flowable:sourceDockerY="20.0" flowable:targetDockerX="50.0" flowable:targetDockerY="30.0">
        <omgdi:waypoint x="587.5051442944878" y="286.31999029705133"></omgdi:waypoint>
        <omgdi:waypoint x="587.0" y="435.0"></omgdi:waypoint>
        <omgdi:waypoint x="227.0" y="435.0"></omgdi:waypoint>
        <omgdi:waypoint x="227.47093683303365" y="296.38756401767176"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-443FDE5E-A5A0-4CB3-A560-22A7BC38B99C" id="BPMNEdge_sid-443FDE5E-A5A0-4CB3-A560-22A7BC38B99C" flowable:sourceDockerX="20.0" flowable:sourceDockerY="20.0" flowable:targetDockerX="50.0" flowable:targetDockerY="30.0">
        <omgdi:waypoint x="587.4965077115878" y="246.50732398009652"></omgdi:waypoint>
        <omgdi:waypoint x="587.0" y="117.0"></omgdi:waypoint>
        <omgdi:waypoint x="227.0" y="117.0"></omgdi:waypoint>
        <omgdi:waypoint x="227.45788783515007" y="236.43756401767178"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="toBackPrevious" id="BPMNEdge_toBackPrevious" flowable:sourceDockerX="20.0" flowable:sourceDockerY="20.0" flowable:targetDockerX="50.0" flowable:targetDockerY="30.0">
        <omgdi:waypoint x="587.4348596032381" y="246.56369705977562"></omgdi:waypoint>
        <omgdi:waypoint x="587.0" y="184.0"></omgdi:waypoint>
        <omgdi:waypoint x="477.0" y="184.0"></omgdi:waypoint>
        <omgdi:waypoint x="477.1288128649524" y="236.43756401767178"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-04E144F0-E080-45BB-A354-05D20EEEA904" id="BPMNEdge_sid-04E144F0-E080-45BB-A354-05D20EEEA904" flowable:sourceDockerX="20.0" flowable:sourceDockerY="20.0" flowable:targetDockerX="14.0" flowable:targetDockerY="14.0">
        <omgdi:waypoint x="354.6099087574987" y="246.43756401767178"></omgdi:waypoint>
        <omgdi:waypoint x="354.6099032764996" y="175.16662670356325"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="initiatorToSubmitCheck" id="BPMNEdge_initiatorToSubmitCheck" flowable:sourceDockerX="50.0" flowable:sourceDockerY="30.0" flowable:targetDockerX="20.0" flowable:targetDockerY="20.0">
        <omgdi:waypoint x="277.5228988466981" y="266.4375640176718"></omgdi:waypoint>
        <omgdi:waypoint x="334.6099102955741" y="266.4375640176718"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-K9P3O592-L4MH-5N23-J967-2K3L4M5N6O7P" id="BPMNEdge_sid-K9P3O592-L4MH-5N23-J967-2K3L4M5N6O7P" flowable:sourceDockerX="20.5" flowable:sourceDockerY="20.5" flowable:targetDockerX="14.0" flowable:targetDockerY="14.0">
        <omgdi:waypoint x="607.088218627186" y="266.8647264012541"></omgdi:waypoint>
        <omgdi:waypoint x="705.0000971719838" y="266.4908376954508"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>